<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Answer guided questions to refine your app idea and generate a detailed specification with specifys.ai.">
  <meta name="keywords" content="processing app idea, guided questions, AI specification, app development, specifys.ai">
  <meta name="author" content="specifys.ai Team">
  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow">
  <meta name="bingbot" content="index, follow">
  <meta name="revisit-after" content="7 days">
  <meta name="language" content="English">
  <meta name="copyright" content="Â© 2025 specifys.ai">
  <meta name="publisher" content="specifys.ai">
  <meta name="distribution" content="global">
  <meta name="rating" content="general">
  <meta name="theme-color" content="#0078d4">
  <meta property="og:title" content="specifys.ai - Processing Your Idea">
  <meta property="og:description" content="Answer guided questions to refine your app idea and generate a detailed specification with specifys.ai.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://specifys.ai/processing.html">
  <meta property="og:image" content="https://specifys.ai/assets/og-image.jpg">
  <meta property="og:image:alt" content="Processing Your Idea with specifys.ai">
  <meta property="og:site_name" content="Specifys.ai">
  <meta property="og:locale" content="en_US">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="specifys.ai - Processing Your Idea">
  <meta name="twitter:description" content="Answer guided questions to refine your app idea and generate a detailed specification with specifys.ai.">
  <meta name="twitter:image" content="https://specifys.ai/assets/og-image.jpg">
  <meta name="twitter:site" content="@specifys_ai">
  <meta name="twitter:creator" content="@specifys_ai">
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "headline": "specifys.ai - Processing Your Idea",
      "description": "Answer guided questions to refine your app idea and generate a detailed specification with specifys.ai.",
      "image": "https://specifys.ai/assets/og-image.jpg",
      "author": {
        "@type": "Organization",
        "name": "specifys.ai Team"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Specifys.ai",
        "logo": {
          "@type": "ImageObject",
          "url": "https://specifys.ai/assets/logo.png"
        }
      },
      "url": "https://specifys.ai/processing.html",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://specifys.ai/processing.html"
      },
      "keywords": "processing app idea, guided questions, AI specification, app development, specifys.ai"
    }
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-RWBT69JCM7');
    gtag('config', 'AW-1000505244');
  </script>
  <title>specifys.ai - Processing Your Idea</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="common-header-footer.css">
  <script defer src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
  <script defer src="processing.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap');

    :root {
      --bg-color: #f8f9fa;
      --text-color: #333;
      --primary-color: #0078d4;
      --secondary-color: #6c757d;
      --light-gray: #e9ecef;
      --border-color: #dee2e6;
      --chat-bg: #fff;
      --system-msg-bg: #f8f9fa;
      --user-msg-bg: #0078d4;
      --user-msg-text: #fff;
      --input-bg: #fff;
      --input-border: #dee2e6;
      --button-hover: #005ea2;
      --progress-bg: #e9ecef;
      --progress-fill: #0078d4;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
    }

    .chat-container {
      max-width: 800px;
      margin: 20px auto;
      background: var(--chat-bg);
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      height: calc(100vh - 80px);
      min-height: 700px;
      display: flex;
      flex-direction: column;
    }

    .chat-header {
      background: var(--primary-color);
      color: white;
      padding: 20px;
      text-align: center;
      margin-top: 80px; /* Add margin to avoid header overlap */
    }

    .chat-header h1 {
      font-size: 1.5rem;
      font-weight: 600;
      margin: 0;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      background: var(--chat-bg);
    }

    .message {
      margin-bottom: 20px;
      display: flex;
      align-items: flex-start;
      gap: 12px;
      animation: fadeIn 0.3s ease-in;
    }

    .message.system {
      flex-direction: row;
    }

    .message.user {
      flex-direction: row-reverse;
    }

    .message-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 600;
      flex-shrink: 0;
    }

    .message.system .message-avatar {
      background: var(--secondary-color);
      color: white;
    }

    .message.user .message-avatar {
      background: var(--primary-color);
      color: white;
    }

    .message-content {
      flex: 1;
      max-width: 70%;
    }

    .message.system .message-content {
      background: var(--system-msg-bg);
      padding: 16px;
      border-radius: 18px;
      border: 1px solid var(--border-color);
    }

    .message.user .message-content {
      background: var(--user-msg-bg);
      color: var(--user-msg-text);
      padding: 16px;
      border-radius: 18px;
      position: relative;
    }

    .message-text {
      margin-bottom: 12px;
      line-height: 1.5;
    }

    .yes-no-buttons {
      display: flex;
      gap: 12px;
      margin-top: 12px;
    }

    .yes-no-btn {
      padding: 10px 24px;
      border: 2px solid var(--border-color);
      background: var(--input-bg);
      color: var(--text-color);
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 500;
    }

    .yes-no-btn:hover {
      border-color: var(--primary-color);
      background: var(--primary-color);
      color: white;
    }

    .yes-no-btn.selected {
      border-color: var(--primary-color);
      background: var(--primary-color);
      color: white;
    }

    .message-examples,
    .message-tips {
      background: rgba(255, 255, 255, 0.5);
      padding: 12px;
      border-radius: 8px;
      margin-top: 8px;
      font-size: 0.9rem;
      opacity: 0.7;
    }

    .message-examples.hidden,
    .message-tips.hidden {
      display: none;
    }

    .chat-input-container {
      padding: 20px;
      background: var(--chat-bg);
      border-top: 1px solid var(--border-color);
    }

    .chat-input-wrapper {
      display: flex;
      gap: 12px;
      align-items: flex-end;
    }

    .chat-input {
      flex: 1;
      padding: 12px 16px;
      border: 2px solid var(--input-border);
      border-radius: 24px;
      font-size: 1rem;
      font-family: inherit;
      resize: none;
      min-height: 48px;
      max-height: 120px;
      transition: border-color 0.2s ease;
    }

    .chat-input:focus {
      outline: none;
      border-color: var(--primary-color);
    }

    .send-button {
      padding: 12px 24px;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 24px;
      cursor: pointer;
      font-weight: 500;
      transition: background-color 0.2s ease;
      min-width: 80px;
    }

    .send-button:hover {
      background: var(--button-hover);
    }

    .send-button:disabled {
      background: var(--secondary-color);
      cursor: not-allowed;
    }

    .progress-container {
      padding: 0 20px 20px;
      background: var(--chat-bg);
    }

    .progress-bar {
      width: 100%;
      height: 6px;
      background: var(--progress-bg);
      border-radius: 3px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--progress-fill);
      transition: width 0.3s ease;
      border-radius: 3px;
    }

    .progress-text {
      text-align: center;
      margin-top: 8px;
      font-size: 0.9rem;
      color: var(--secondary-color);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 768px) {
      .chat-container {
        margin: 10px;
        height: calc(100vh - 60px);
        min-height: 600px;
      }
      
      .message-content {
        max-width: 85%;
      }
      
      .yes-no-buttons {
        flex-direction: column;
      }
      
      .yes-no-btn {
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <header class="thematic-header" role="banner">
    <div class="logo">
      <a href="index.html" aria-label="Specifys.ai homepage">Specifys.ai</a>
    </div>
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode"><i class="fas fa-moon"></i></button>
    <button class="menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false"><i class="fas fa-bars"></i></button>
    <div class="header-links">
      <a href="blog.html" aria-label="Visit our blog">Blog</a>
      <a href="about.html" aria-label="Learn more about specifys.ai">About Us</a>
      <a href="how.html" aria-label="Learn how specifys.ai works">How It Works</a>
      <a href="map/vibe-coding-tools-map.html" aria-label="Explore Vibe Coding Tools Map">Vibe Coding Tools Map</a>
      <a href="ToolPicker.html" aria-label="Use our Tool Finder">Tool Finder</a>
    </div>
  </header>

  <div class="chat-container">
    <div class="chat-header">
      <h1>Processing Your Idea</h1>
      <p>Let's build your app together! Answer a few questions to get started.</p>
    </div>

    <div class="chat-messages" id="chatMessages">
      <!-- Messages will be added here dynamically -->
    </div>

    <div class="progress-container">
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <div class="progress-text" id="progressText">Question 1 of 5</div>
    </div>

    <div class="chat-input-container">
      <div class="chat-input-wrapper">
        <textarea 
          class="chat-input" 
          id="chatInput" 
          placeholder="Type your answer here..."
          rows="1"
        ></textarea>
        <button class="send-button" id="sendButton">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>

  <script src="common-header-footer.js"></script>
  <script>
    // Lightweight Developer Chat to show first question and collect answers
    (function() {
      class DeveloperChat {
        constructor() {
          this.currentQuestionIndex = 0;
          this.answers = {};
          this.questions = [
            { id: 0, name: 'App Purpose', question: 'What is the general purpose and idea of your app?' },
            { id: 1, name: 'User Workflow', question: 'Describe the typical workflow of a user using your app.' },
            { id: 2, name: 'Development Preferences', question: 'What development preferences or constraints do you have (e.g., agile, code style, CI/CD)?' },
            { id: 3, name: 'Technologies', question: 'List the technologies you prefer or must use (languages, frameworks, services).' },
            { id: 4, name: 'Data Information', question: 'What data will be stored or processed (entities, fields, relationships, privacy)?' }
          ];
        }

        init() {
          // Mark current mode
          localStorage.setItem('currentMode', 'developers');

          // Load saved answers if any
          const saved = localStorage.getItem('devAnswers');
          if (saved) {
            try { this.answers = JSON.parse(saved) || {}; } catch (_) { this.answers = {}; }
          }

          // Restore progress
          const keys = Object.keys(this.answers).filter(k => /^(0|1|2|3|4)$/.test(k));
          if (keys.length > 0) {
            // Move index to next unanswered
            for (let i = 0; i < this.questions.length; i++) {
              if (!this.answers[i] || !String(this.answers[i]).trim()) { this.currentQuestionIndex = i; break; }
              this.currentQuestionIndex = i + 1;
            }
          }

          this.setupEvents();
          this.updateProgress();
          this.start();
        }

        setupEvents() {
          const chatInput = document.getElementById('chatInput');
          const sendButton = document.getElementById('sendButton');
          if (!chatInput || !sendButton) return;

          sendButton.addEventListener('click', () => this.handleSend());
          chatInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); this.handleSend(); }
          });
          chatInput.addEventListener('input', () => { this.autoResize(chatInput); sendButton.disabled = !chatInput.value.trim(); });
          // Initial state
          sendButton.disabled = true;
        }

        start() {
          // If there are already answers, re-render them and ask next
          const chatMessages = document.getElementById('chatMessages');
          chatMessages.innerHTML = '';
          for (let i = 0; i < this.currentQuestionIndex; i++) {
            this.addSystem(this.questions[i].question);
            this.addUser(this.answers[i]);
          }
          // Ask current question or show intro messages
          if (this.currentQuestionIndex < this.questions.length) {
            if (this.currentQuestionIndex === 0 && Object.keys(this.answers).length === 0) {
              // First time - show intro messages
              this.showIntroMessages();
            } else {
              // Show current question
              this.addSystem(this.questions[this.currentQuestionIndex].question);
            }
          }
          this.scrollToBottom();
        }

        showIntroMessages() {
          const introMessages = [
            "Hi! ðŸ‘‹",
            "I'm your personal assistant and my job is to help you reach the perfect application!",
            "You can talk to me in any language you want, but for convenience you'll receive the final document in English",
            "Let's start with a few questions to understand your app idea better..."
          ];

          let messageIndex = 0;
          const showNextMessage = () => {
            if (messageIndex < introMessages.length) {
              this.addSystem(introMessages[messageIndex]);
              messageIndex++;
              
              // Show next message after 1.5 seconds
              setTimeout(showNextMessage, 1500);
            } else {
              // After all intro messages, display the first question
              setTimeout(() => {
                this.addSystem(this.questions[this.currentQuestionIndex].question);
                this.scrollToBottom();
              }, 500);
            }
          };

          showNextMessage();
        }

        handleSend() {
          const chatInput = document.getElementById('chatInput');
          const message = (chatInput.value || '').trim();
          if (!message) return;
          const qIndex = this.currentQuestionIndex;
          if (qIndex >= this.questions.length) return;

          // Save and render
          this.answers[qIndex] = message;
          localStorage.setItem('devAnswers', JSON.stringify(this.answers));
          this.addUser(message);
          chatInput.value = '';
          this.autoResize(chatInput);

          // Move to next question or generate
          this.currentQuestionIndex++;
          this.updateProgress();
          if (this.currentQuestionIndex < this.questions.length) {
            setTimeout(() => { this.addSystem(this.questions[this.currentQuestionIndex].question); this.scrollToBottom(); }, 300);
          } else {
            // All answers collected â†’ generate
            setTimeout(() => {
              if (typeof generateSpecificationFromProcessingJs === 'function') {
                generateSpecificationFromProcessingJs();
              }
            }, 500);
          }
        }

        addSystem(text) {
          const chatMessages = document.getElementById('chatMessages');
          const div = document.createElement('div');
          div.className = 'message system';
          div.innerHTML = `<div class="message-avatar">S</div><div class="message-content"><div class="message-text"><strong>${this.escape(text)}</strong></div></div>`;
          chatMessages.appendChild(div);
        }

        addUser(text) {
          const chatMessages = document.getElementById('chatMessages');
          const div = document.createElement('div');
          div.className = 'message user';
          div.innerHTML = `<div class="message-avatar">U</div><div class="message-content"><div class="message-text">${this.escape(text)}</div></div>`;
          chatMessages.appendChild(div);
          this.scrollToBottom();
        }

        updateProgress() {
          const progressFill = document.getElementById('progressFill');
          const progressText = document.getElementById('progressText');
          const total = this.questions.length;
          const current = Math.min(this.currentQuestionIndex + 1, total);
          if (progressFill) progressFill.style.width = `${(current / total) * 100}%`;
          if (progressText) progressText.textContent = `Question ${current} of ${total}`;
        }

        autoResize(textarea) {
          textarea.style.height = 'auto';
          textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';
        }

        scrollToBottom() {
          const chatMessages = document.getElementById('chatMessages');
          chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        escape(str) {
          return String(str).replace(/[&<>]/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;'}[s]));
        }
      }

      document.addEventListener('DOMContentLoaded', () => {
        // Initialize developer chat
        const devChat = new DeveloperChat();
        devChat.init();
      });
    })();
  </script>

  <noscript>
    <div style="text-align: center; padding: 20px; background: #fff; color: #333;">
      <p>This website requires JavaScript to function properly. Please enable JavaScript in your browser settings.</p>
    </div>
  </noscript>
</body>
</html>