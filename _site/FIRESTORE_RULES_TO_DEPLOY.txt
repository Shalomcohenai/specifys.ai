â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ FIRESTORE RULES - ×”×¢×ª×§ ×•×”×“×‘×§ ×‘-Firebase Console
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”— ××™×¤×” ×œ×”×“×‘×™×§:
1. https://console.firebase.google.com
2. ×‘×—×¨ ×¤×¨×•×™×§×˜: specify-ai
3. Firestore Database â†’ Rules
4. ××—×§ ××ª ×›×œ ×”×§×•×“ ×”×§×™×™×
5. ×”×“×‘×§ ××ª ×”×§×•×“ ×”×–×” ×œ××˜×”
6. ×œ×—×¥ Publish

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
×”×§×•×“ ×œ×”×¢×ª×§×” (××ª×—×™×œ ××”×©×•×¨×” ×”×‘××”):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Admin access function
    function isAdmin() {
      return request.auth != null && (
        request.auth.token.email == 'specifysai@gmail.com' ||
        request.auth.token.email == 'admin@specifys.ai' ||
        request.auth.token.email == 'shalom@specifys.ai'
      );
    }
    
    // Rules for specs collection
    match /specs/{document} {
      allow read: if request.auth != null && 
        (resource.data.userId == request.auth.uid || isAdmin());
      allow write: if request.auth != null && resource.data.userId == request.auth.uid;
      allow create: if request.auth != null 
        && request.resource.data.userId == request.auth.uid;
    }
    
    // Rules for marketResearch collection
    match /marketResearch/{document} {
      allow read: if request.auth != null && 
        (resource.data.userId == request.auth.uid || isAdmin());
      allow write: if request.auth != null && resource.data.userId == request.auth.uid;
      allow create: if request.auth != null 
        && request.resource.data.userId == request.auth.uid;
    }
    
    // Rules for apps collection
    match /apps/{document} {
      allow read: if request.auth != null && 
        (resource.data.userId == request.auth.uid || isAdmin());
      allow write: if request.auth != null && resource.data.userId == request.auth.uid;
      allow create: if request.auth != null 
        && request.resource.data.userId == request.auth.uid;
    }
    
    // Rules for users collection - allow admin to read all
    match /users/{document} {
      allow read: if request.auth != null && 
        (request.auth.uid == document || isAdmin());
      allow write: if request.auth != null && request.auth.uid == document;
    }
    
    // Rules for userTools collection (saved tools) - UPDATED FOR ADMIN
    match /userTools/{userId}/savedTools/{toolId} {
      allow read: if request.auth != null && 
        (userId == request.auth.uid || isAdmin());
      allow write: if request.auth != null && userId == request.auth.uid;
      allow create: if request.auth != null 
        && userId == request.auth.uid;
    }
    
    // Rules for userLikes collection - UPDATED FOR ADMIN
    match /userLikes/{document} {
      allow read: if request.auth != null && 
        (resource.data.userId == request.auth.uid || isAdmin());
      allow write: if request.auth != null && resource.data.userId == request.auth.uid;
      allow create: if request.auth != null 
        && request.resource.data.userId == request.auth.uid;
    }
    
    // Rules for appTasks collection
    match /appTasks/{document} {
      allow read: if request.auth != null && 
        (resource.data.userId == request.auth.uid || isAdmin());
      allow write: if request.auth != null && resource.data.userId == request.auth.uid;
      allow create: if request.auth != null 
        && request.resource.data.userId == request.auth.uid;
    }
    
    // Rules for appMilestones collection
    match /appMilestones/{document} {
      allow read: if request.auth != null && 
        (resource.data.userId == request.auth.uid || isAdmin());
      allow write: if request.auth != null && resource.data.userId == request.auth.uid;
      allow create: if request.auth != null 
        && request.resource.data.userId == request.auth.uid;
    }
    
    // Rules for appNotes collection
    match /appNotes/{document} {
      allow read: if request.auth != null && 
        (resource.data.userId == request.auth.uid || isAdmin());
      allow write: if request.auth != null && resource.data.userId == request.auth.uid;
      allow create: if request.auth != null 
        && request.resource.data.userId == request.auth.uid;
    }
    
    // Rules for appExpenses collection
    match /appExpenses/{document} {
      allow read: if request.auth != null && 
        (resource.data.userId == request.auth.uid || isAdmin());
      allow write: if request.auth != null && resource.data.userId == request.auth.uid;
      allow create: if request.auth != null 
        && request.resource.data.userId == request.auth.uid;
    }
  }
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸ ×©×™× ×œ×‘ ×œ×”×‘×“×œ×™× ×”×—×©×•×‘×™×:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

×”×”×‘×“×œ ×”×¢×™×§×¨×™ ××”-Rules ×”×™×©× ×™× ×”×•× ×‘-2 collections:

1. userTools - ×¢×›×©×™×•:
   allow read: if request.auth != null && (userId == request.auth.uid || isAdmin());
   
   ×œ×¤× ×™ ×”×™×”:
   allow read, write: if request.auth != null && userId == request.auth.uid;

2. userLikes - ×¢×›×©×™×•:
   allow read: if request.auth != null && (resource.data.userId == request.auth.uid || isAdmin());
   
   ×œ×¤× ×™ ×”×™×”:
   allow read, write: if request.auth != null && resource.data.userId == request.auth.uid;

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… ××—×¨×™ ×”×¤×¨×¡×•×:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- ×¨×¢× ×Ÿ ××ª Admin Dashboard
- ×œ×—×¥ ×¢×œ Refresh Data
- ×›×œ ×”×¡×˜×˜×™×¡×˜×™×§×•×ª ×™×¢×‘×“×•!


